---
title: "Experimental design"
author: "Laurent Gatto"
date: "24 May 2018"
output: html_document
---

```{r env, message=FALSE, warning=FALSE}
source("S00-env.R")
tab <- read_csv("data/SampleExperimentTable.csv")
names(tab)[1:2] <- c("file", "raw")
```

```{r}
library("DT")
datatable(tab)
```

## Files

## Id files

```{r idfiles}
basename(id_files <- dir("MSGF", full.names = TRUE))
```

## Raw files

```{r rawfiles}
basename(raw_files <- dir("raw", full.names = TRUE))
```

## Design

```{r tab1, echo=TRUE}

## How many replicates in each biorep (bioreps are just numbered dates)?
## Are there any NAs?
## Comparing bioreps against all the factors -  category, sample, treatment, cleavage.
table(tab$biorep, tab$date, useNA = "ifany")

## why the rownames are missing when kable is used?
knitr::kable(table(tab$biorep, tab$treatment, useNA = "ifany"))
knitr::kable(table(tab$biorep, tab$sample, useNA = "ifany"))
knitr::kable(table(tab$biorep, tab$cleavage, useNA = "ifany"))

## Where are the NAs ?
datatable(tab[!complete.cases(tab),])
```

```{r}
ggplot(tab, aes(x = treatment)) + geom_bar()
```

