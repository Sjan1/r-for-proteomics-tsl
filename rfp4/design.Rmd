---
title: "Experimental design"
author: "Laurent Gatto"
date: "24 May 2018"
output: html_document
---

```{r env, message=FALSE, warning=FALSE}
source("S00-env.R")
tab <- read_csv("data/SampleExperimentTable.csv")
names(tab)[1:2] <- c("file", "raw")
```

```{r}
library("DT")
datatable(tab)
```

## Files

## Id files

```{r idfiles}
basename(id_files <- dir("MSGF", full.names = TRUE))
```

## Raw files

```{r rawfiles}
basename(raw_files <- dir("raw", full.names = TRUE))
```

## Design
- How many replicates in each biorep (bioreps are just numbered dates)?
- Are there any NAs?
- Comparing bioreps against all the factors -  category, sample, treatment, cleavage.
- Are there any NAs?
- Where exactly are the NAs ?

```{r tab1, echo=TRUE}

## How many replicates in each biorep (bioreps are just numbered dates)?
## Are there any NAs?
## Comparing bioreps against all the factors -  category, sample, treatment, cleavage.
knitr::kable(table(tab$biorep, tab$date, useNA = "ifany"),row.names=TRUE)
knitr::kable(table(tab$biorep, tab$treatment, useNA = "ifany"), row.names=TRUE)
knitr::kable(table(tab$biorep, tab$sample, useNA = "ifany"),row.names=TRUE)
knitr::kable(table(tab$biorep, tab$cleavage, useNA = "ifany"),row.names=TRUE)
## Where exactly are the NAs ?
datatable(tab[!complete.cases(tab),])
#another way of priting the table
#knitr::kable(tab[!complete.cases(tab),])

```

```{r}
ggplot(tab, aes(x = treatment)) + geom_bar()
```

